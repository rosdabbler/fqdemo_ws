<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>fqdemo_nodes &mdash; fqdemo_nodes 0.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/collapsible-lists/css/tree_view.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Changelog" href="CHANGELOG.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> fqdemo_nodes
          </a>
              <div class="version">
                0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="generated/unabridged_api.html">C++ API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="generated/unabridged_api.html#namespaces">Namespaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/namespace_fqdemo_nodes.html">Namespace fqdemo_nodes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/namespace_fqdemo_nodes.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/namespace_std__chrono_literals.html">Namespace std::chrono_literals</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="generated/unabridged_api.html#classes-and-structs">Classes and Structs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/classfqdemo__nodes_1_1DemoSubPub.html">Class DemoSubPub</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/classfqdemo__nodes_1_1DemoSubPub.html#inheritance-relationships">Inheritance Relationships</a><ul>
<li class="toctree-l5"><a class="reference internal" href="generated/classfqdemo__nodes_1_1DemoSubPub.html#base-type">Base Type</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="generated/classfqdemo__nodes_1_1DemoSubPub.html#class-documentation">Class Documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="generated/unabridged_api.html#functions">Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/function_subpub__node_8hpp_1a3c04138a5bfe5d72780bb7e82a18e627.html">Function main</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/function_subpub__node_8hpp_1a3c04138a5bfe5d72780bb7e82a18e627.html#function-documentation">Function Documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="generated/unabridged_api.html#directories">Directories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/dir_include.html">Directory include</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/dir_include.html#subdirectories">Subdirectories</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/dir_include_fqdemo_nodes.html">Directory nodes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/dir_include_fqdemo_nodes.html#files">Files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/dir_src.html">Directory src</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/dir_src.html#files">Files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="generated/unabridged_api.html#files">Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/file_src_demo_sub_pub.cpp.html">File demo_sub_pub.cpp</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/file_src_demo_sub_pub.cpp.html#definition-src-demo-sub-pub-cpp">Definition (<code class="docutils literal notranslate"><span class="pre">src/demo_sub_pub.cpp</span></code>)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="generated/program_listing_file_src_demo_sub_pub.cpp.html">Program Listing for File demo_sub_pub.cpp</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="generated/file_src_demo_sub_pub.cpp.html#includes">Includes</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/file_src_demo_sub_pub.cpp.html#namespaces">Namespaces</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/file_include_fqdemo_nodes_demo_sub_pub.hpp.html">File demo_sub_pub.hpp</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/file_include_fqdemo_nodes_demo_sub_pub.hpp.html#definition-include-fqdemo-nodes-demo-sub-pub-hpp">Definition (<code class="docutils literal notranslate"><span class="pre">include/fqdemo_nodes/demo_sub_pub.hpp</span></code>)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="generated/program_listing_file_include_fqdemo_nodes_demo_sub_pub.hpp.html">Program Listing for File demo_sub_pub.hpp</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="generated/file_include_fqdemo_nodes_demo_sub_pub.hpp.html#includes">Includes</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/file_include_fqdemo_nodes_demo_sub_pub.hpp.html#included-by">Included By</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/file_include_fqdemo_nodes_demo_sub_pub.hpp.html#namespaces">Namespaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/file_include_fqdemo_nodes_demo_sub_pub.hpp.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/file_src_subpub_node.cpp.html">File subpub_node.cpp</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/file_src_subpub_node.cpp.html#definition-src-subpub-node-cpp">Definition (<code class="docutils literal notranslate"><span class="pre">src/subpub_node.cpp</span></code>)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="generated/program_listing_file_src_subpub_node.cpp.html">Program Listing for File subpub_node.cpp</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="generated/file_src_subpub_node.cpp.html#includes">Includes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/file_include_fqdemo_nodes_subpub_node.hpp.html">File subpub_node.hpp</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/file_include_fqdemo_nodes_subpub_node.hpp.html#definition-include-fqdemo-nodes-subpub-node-hpp">Definition (<code class="docutils literal notranslate"><span class="pre">include/fqdemo_nodes/subpub_node.hpp</span></code>)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="generated/program_listing_file_include_fqdemo_nodes_subpub_node.hpp.html">Program Listing for File subpub_node.hpp</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="generated/file_include_fqdemo_nodes_subpub_node.hpp.html#included-by">Included By</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/file_include_fqdemo_nodes_subpub_node.hpp.html#functions">Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Python API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fqdemo_nodes.html">fqdemo_nodes package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fqdemo_nodes.html#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="fqdemo_nodes.PySubPub.html">fqdemo_nodes.PySubPub module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fqdemo_nodes.html#module-fqdemo_nodes">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="doc/docs/document_index.html">Documents</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="doc/docs/about.html">About</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc/docs/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc/docs/license.html">LICENSE</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc/docs/mdtest.html">Test of markdown</a></li>
<li class="toctree-l2"><a class="reference internal" href="CONTRIBUTING.html">CONTRIBUTING</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html">CHANGELOG</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">README</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#purpose-of-the-set-of-fqdemo-packages">Purpose of the set of <em>fqdemo</em> packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-of-this-package">Use of this package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-the-documentation">Building the documentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    <li class="toctree-l1"><a class="reference internal" href="genindex.html">INDEX</a></li>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fqdemo_nodes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="doc/docs/document_index.html">Package Documents</a> &raquo;</li>
      <li>fqdemo_nodes</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="tex2jax_ignore mathjax_ignore section" id="fqdemo-nodes">
<h1>fqdemo_nodes<a class="headerlink" href="#fqdemo-nodes" title="Permalink to this headline"></a></h1>
<p>This is part of an effort <strong>fqdemo</strong> to demonstrate various techniques in setting up a repository for a ROS2 package. This particular package contains a sample node, which uses custom messages from a separate package <strong>fqdemo_msgs</strong>.</p>
<div class="section" id="purpose-of-the-set-of-fqdemo-packages">
<h2>Purpose of the set of <em>fqdemo</em> packages<a class="headerlink" href="#purpose-of-the-set-of-fqdemo-packages" title="Permalink to this headline"></a></h2>
<p>There are a number of methods that more developed ROS2 packages use to support the coding efforts. These include test suites, documentation generators, github actions, etc. It is not really clear (or it was not clear to me anyway) how to implement all of these things. But I know from experience that many of these concepts are useful in code development, so it is better to have them at the beginning rather than as an afterthought at the end.</p>
<p>This package started from the excellent <a class="reference external" href="https://github.com/athackst/vscode_ros2_workspace">VSCode ROS2 Workspace Template</a> and expanded it to include more concepts.</p>
</div>
<div class="section" id="use-of-this-package">
<h2>Use of this package<a class="headerlink" href="#use-of-this-package" title="Permalink to this headline"></a></h2>
<p><strong>fqdemo-nodes</strong> contains two nodes with the same function, one as a python demo, and the other in c++. Both nodes subscribe to topic ‘/num_power’ of type ‘fqdemo_msgs/msg/NumPwrData’ and publish a response to ‘/power_result’ of type ‘fqdemo_msgs/msg/NumPwrResult’ In addition, both publish periodic ‘/power_result’ messages with zero values to just show some activity.</p>
<p>When the topic ‘/num_power’ is received, the nodes generate two results:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">msg.number</span></code> to the power <code class="docutils literal notranslate"><span class="pre">msg.power</span></code></p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">msg.power</span></code> root of <code class="docutils literal notranslate"><span class="pre">msg.number</span></code></p></li>
</ul>
<p>To run the c++ node:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 run fqdemo_nodes subpub
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1637782086</span>.635299581<span class="o">]</span> <span class="o">[</span>demo_sub_pub<span class="o">]</span>: Publishing NumPwrResult power:            <span class="m">0</span>, root:            <span class="m">0</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1637782088</span>.635272308<span class="o">]</span> <span class="o">[</span>demo_sub_pub<span class="o">]</span>: Publishing NumPwrResult power:            <span class="m">0</span>, root:            <span class="m">0</span>
^C<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1637782089</span>.372733979<span class="o">]</span> <span class="o">[</span>rclcpp<span class="o">]</span>: signal_handler<span class="o">(</span><span class="nv">signum</span><span class="o">=</span><span class="m">2</span><span class="o">)</span>
</pre></div>
</div>
<p>To run the python node:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 run fqdemo_nodes py_node
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1637782149</span>.738643528<span class="o">]</span> <span class="o">[</span>pysubpub<span class="o">]</span>: Publishing to_power: <span class="m">0</span>.0, to_root: <span class="m">0</span>.0
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1637782150</span>.226708490<span class="o">]</span> <span class="o">[</span>pysubpub<span class="o">]</span>: Publishing to_power: <span class="m">0</span>.0, to_root: <span class="m">0</span>.0
</pre></div>
</div>
<p>To demo the nodes, in addition to running one of the above nodes, on a separate terminal send some messsages to the topic <strong>/num_power</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 topic pub /num_power fqdemo_msgs/msg/NumPwrData <span class="s2">&quot;{num: 3.0, power: 4.0}&quot;</span>
publisher: beginning loop
publishing <span class="c1">#1: fqdemo_msgs.msg.NumPwrData(num=3.0, power=4.0)</span>

publishing <span class="c1">#2: fqdemo_msgs.msg.NumPwrData(num=3.0, power=4.0)</span>
</pre></div>
</div>
<p>In response, the nodes will generate a response like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1637782880</span>.736420256<span class="o">]</span> <span class="o">[</span>pysubpub<span class="o">]</span>: I heard fqdemo_msgs.msg.NumPwrData<span class="o">(</span><span class="nv">num</span><span class="o">=</span><span class="m">3</span>.0, <span class="nv">power</span><span class="o">=</span><span class="m">4</span>.0<span class="o">)</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1637782880</span>.737321416<span class="o">]</span> <span class="o">[</span>pysubpub<span class="o">]</span>: Publishing to_power: <span class="m">81</span>.0, to_root: <span class="m">1</span>.3160740129524924
</pre></div>
</div>
<p>which can also be seen by listening to the topic <code class="docutils literal notranslate"><span class="pre">/power_result</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ros2 topic <span class="nb">echo</span> /power_result
to_power: <span class="m">0</span>.0
to_root: <span class="m">0</span>.0
---
to_power: <span class="m">81</span>.0
to_root: <span class="m">1</span>.3160740129524924
</pre></div>
</div>
</div>
<div class="section" id="building-the-documentation">
<h2>Building the documentation<a class="headerlink" href="#building-the-documentation" title="Permalink to this headline"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rosdoc2 build --package-path . <span class="se">\</span>
  --cross-reference-directory doc/_build/cross_reference <span class="se">\</span>
  --doc-build-directory doc/_build/build <span class="se">\</span>
  --output-directory doc/_build/output
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="CHANGELOG.html" class="btn btn-neutral float-left" title="Changelog" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, R. Kent James &lt;kent@caspia.com&gt;.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>